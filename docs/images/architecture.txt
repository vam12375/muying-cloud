                      母婴商城微服务技术架构图
                    ================================

┌─────────────────────────────────────────────────────────────────────────────────┐
│                              外部系统 & 客户端                                    │
├─────────┬───────────┬────────────┬────────────┬────────────┬─────────────────────┤
│ 👥 用户  │ 👨‍💼 管理员 │ 📱 移动应用  │ 💻 Web应用  │ 💳 支付宝   │ 🚚 物流公司API    │
│ 客户端   │         │           │           │ 微信支付    │ 顺丰/圆通/中通    │
└─────────┴───────────┴────────────┴────────────┴────────────┴─────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                        🌐 API网关层 (Spring Cloud Gateway)                      │
│                              Gateway :8080                                     │
└─────────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                微服务集群                                        │
├─────────────────────────┬───────────────────────────────────────────────────────┤
│     核心业务服务         │                辅助业务服务                           │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ 👤 用户服务  :8001      │ 🔍 搜索服务    :8005                                  │
│ muying-mall-user       │ muying-mall-search                                   │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ 🛒 商品服务  :8002      │ 🚛 物流服务    :8006                                  │
│ muying-mall-product    │ muying-mall-logistics                                │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ 📝 订单服务  :8003      │ 💬 评论服务    :8007                                  │
│ muying-mall-order      │ muying-mall-comment                                  │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ 💰 支付服务  :8004      │ 🎁 积分服务    :8008                                  │
│ muying-mall-payment    │ muying-mall-points                                   │
│                        │                                                      │
│                        │ ⚙️ 管理服务    :8009                                  │
│                        │ muying-mall-admin                                    │
└─────────────────────────┴───────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              服务治理层                                          │
├─────────────────────┬─────────────────────┬─────────────────────────────────────┤
│ 📋 Nacos :8848      │ 🛡️ Sentinel :8858   │ 🔍 Zipkin :9411                    │
│ 注册中心/配置中心    │ 流量防护/熔断        │ 分布式链路追踪                       │
└─────────────────────┴─────────────────────┴─────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              数据存储层                                          │
├─────────────────┬──────────────────┬──────────────────┬────────────────────────┤
│ 🗃️ MySQL :3306  │ ⚡ Redis :6379   │ 🔎 ES :9200      │ 📊 Kibana :5601       │
│ 关系型数据库     │ 内存缓存数据库    │ 搜索引擎         │ 日志分析可视化          │
└─────────────────┴──────────────────┴──────────────────┴────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────┐
│                              公共组件层                                          │
├─────────────────────────────────────────────────────────────────────────────────┤
│ 📦 muying-mall-common - 公共模块                                                │
│    • 通用工具类    • 统一异常处理    • 通用配置                                    │
│    • JWT工具      • Redis工具       • 枚举定义                                   │
│    • 缓存保护     • 统一结果返回     • 分页结果类                                  │
└─────────────────────────────────────────────────────────────────────────────────┘

                              技术栈说明
                          ==================

┌─────────────────┬──────────────────────────────────────────────────────────────┐
│   基础框架       │ Spring Boot 3.5.5 + Spring Cloud 2025.0.0 + Java 21       │
├─────────────────┼──────────────────────────────────────────────────────────────┤
│   服务治理       │ Spring Cloud Alibaba 2023.0.1.2                            │
├─────────────────┼──────────────────────────────────────────────────────────────┤
│   数据存储       │ MySQL 8.0.33 + MyBatis Plus 3.5.9 + Redis 7.x             │
├─────────────────┼──────────────────────────────────────────────────────────────┤
│   搜索引擎       │ Elasticsearch 8.11.0 + Kibana                              │
├─────────────────┼──────────────────────────────────────────────────────────────┤
│   服务通信       │ OpenFeign + Spring Cloud LoadBalancer                      │
├─────────────────┼──────────────────────────────────────────────────────────────┤
│   API文档        │ SpringDoc OpenAPI 2.8.2                                    │
├─────────────────┼──────────────────────────────────────────────────────────────┤
│   安全认证       │ JWT (jjwt 0.12.6)                                          │
└─────────────────┴──────────────────────────────────────────────────────────────┘

                              数据流向说明
                          ==================

1. 用户请求 → API网关 → 路由到具体微服务
2. 微服务之间通过OpenFeign进行RPC调用
3. 所有服务注册到Nacos，通过Nacos进行服务发现
4. Sentinel提供限流、熔断保护
5. Zipkin收集链路追踪数据
6. 核心数据存储在MySQL，缓存使用Redis
7. 搜索数据存储在Elasticsearch
8. 支付服务对接第三方支付平台
9. 物流服务对接第三方物流API